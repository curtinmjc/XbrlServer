// Generated by CoffeeScript 1.9.2
(function() {
  var StatementsController;

  StatementsController = (function() {
    function StatementsController($scope, $http) {
      this.$scope = $scope;
      this.$http = $http;
      this.entities = [
        {
          name: 'IBM',
          identifier: "http://www.sec.gov/CIK/0000051143"
        }, {
          name: 'MSFT',
          identifier: "http://www.sec.gov/CIK/0000789019"
        }
      ];
      this.instantDates = [];
      this.durationDates = [];
      this.instantEntities = [];
      this.durationEntities = [];
      this.bsFacts = {};
      this.loading = false;
      this.loaded = false;
      this.showStatements();
    }

    StatementsController.prototype.showStatements = function() {
      var entity, identifiers;
      identifiers = (function() {
        var i, len, ref, results;
        ref = this.entities;
        results = [];
        for (i = 0, len = ref.length; i < len; i++) {
          entity = ref[i];
          results.push(entity.identifier);
        }
        return results;
      }).call(this);
      this.loading = true;
      return this.$http.post('statementData', {
        entities: identifiers
      }).success((function(_this) {
        return function(data, status, headers, config) {
          var date, i, j, k, l, len, len1, len2, len3, ref, ref1, ref2, ref3;
          _this.instantDates = data.instantDates;
          ref = data.instantDates;
          for (i = 0, len = ref.length; i < len; i++) {
            date = ref[i];
            ref1 = _this.entities;
            for (j = 0, len1 = ref1.length; j < len1; j++) {
              entity = ref1[j];
              _this.instantEntities.push(entity.name);
            }
          }
          _this.bsFacts = data.bsFacts;
          _this.durationDates = data.durationDates;
          ref2 = data.durationDates;
          for (k = 0, len2 = ref2.length; k < len2; k++) {
            date = ref2[k];
            ref3 = _this.entities;
            for (l = 0, len3 = ref3.length; l < len3; l++) {
              entity = ref3[l];
              _this.durationEntities.push(entity.name);
            }
          }
          _this.isFacts = data.isFacts;
          _this.cfFacts = data.cfFacts;
          _this.loading = false;
          return _this.loaded = true;
        };
      })(this));
    };

    return StatementsController;

  })();

  StatementsController.$inject = ["$scope", "$http"];

  angular.module("statementsApp", []).controller("StatementsController", StatementsController);

  $(function() {
    $('#bsTableRight').height($('#bsTable').height());
    $('#isTableRight').height($('#isTable').height());
    $('#cisTableRight').height($('#cisTable').height());
    return $('#cfTableRight').height($('#cfTable').height());
  });

}).call(this);

//# sourceMappingURL=statements.js.map
